# Deletion on mapping containing a structure

## 基本情况
* Check: mapping-deletion
* Severity: Medium
* Confidence: High

## 描述
A deletion in a structure containing a mapping will not delete the mapping (see the Solidity documentation). The remaining data may be used to compromise the contract.

## 利用案例
```solidity
    struct BalancesStruct{
        address owner;
        mapping(address => uint) balances;
    }
    mapping(address => BalancesStruct) public stackBalance;

    function remove() internal{
         delete stackBalance[msg.sender];
    }
```

remove deletes an item of stackBalance. The mapping balances is never deleted, so remove does not work as intended.

## 推荐方式

Use a lock mechanism instead of a deletion to disable structure containing a mapping.

