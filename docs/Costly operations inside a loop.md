# Costly operations inside a loop

## 基本情况
* Check: costly-loop
* Severity: Informational
* Confidence: High

## 描述
Costly operations inside a loop might waste gas, so optimizations are justified.

## 利用案例
```solidity
contract CostlyOperationsInLoop{

    uint loop_count = 100;
    uint state_variable=0;

    function bad() external{
        for (uint i=0; i < loop_count; i++){
            state_variable++;
        }
    }

    function good() external{
      uint local_variable = state_variable;
      for (uint i=0; i < loop_count; i++){
        local_variable++;
      }
      state_variable = local_variable;
    }
}
```
Incrementing state_variable in a loop incurs a lot of gas because of expensive SSTOREs, which might lead to an out-of-gas.

## 推荐方式
Use a local variable to hold the loop computation result.

